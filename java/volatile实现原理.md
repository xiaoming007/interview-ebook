# Volatile
##### 1.作用
###### （1）.线程间的可见性，JMM 缓存一致性协议
###### （2）.防止指令重排优化导致的问题（内存屏障）

##### 2.现代计算机中的缓存架构
cpu并不是直接操作内存的，而是通过和缓存区交互的，原因是cpu的执行速度远大于内存的执行速度
##### 3.Java内存模型（JMM）
主内存中的共享变量，会先被拷贝到工作内存中作为变量的副本，然后线程操作的是工作内存中的变量副本
##### 4.JMM中的八大原子操作
###### （1）.read(读取)
###### （2）.load(载入)
###### （3）.store(存储)
###### （4）.write(写入)
###### （5）.use(使用)
###### （6）.assign(赋值)
###### （7）.lock(锁定)
###### （8）.unlock(解锁)
##### 4.MESI缓存一致性协议
使用总线，加总线探测机制，类似观察者模式，当使用volatile修饰的变量发生assign操作时，总线会发消息，清掉线程中工作线程中的副本，重新读取内存中的变量
##### 5.内存屏障
它是一个CPU指令。没错，又一次，我们在讨论CPU级别的东西，以便获得我们想要的性能（Martin著名的Mechanical Sympathy理论）。基本上，它是这样一条指令： a)确保一些特定操作执行的顺序； b)影响一些数据的可见性(可能是某些指令执行后的结果)
